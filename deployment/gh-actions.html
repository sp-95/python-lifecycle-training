

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Continuous Integration: GitHub Actions &mdash; python-lifecycle-training 0.1.1 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Continuous Integration: GitHub Actions" href="gh-pages.html" />
    <link rel="prev" title="Documentation: Sphinx" href="sphinx.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> python-lifecycle-training
          

          
          </a>

          
            
            
              <div class="version">
                0.1.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../readme.html">Python Lifecycle Training</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../tutorial.html">Tutorial</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../initialization/editorconfig.html">EditorConfig</a></li>
<li class="toctree-l2"><a class="reference internal" href="../initialization/flake8.html">Flake8</a></li>
<li class="toctree-l2"><a class="reference internal" href="../initialization/black.html">Black</a></li>
<li class="toctree-l2"><a class="reference internal" href="../initialization/isort.html">isort</a></li>
<li class="toctree-l2"><a class="reference internal" href="../initialization/mypy.html">MyPy</a></li>
<li class="toctree-l2"><a class="reference internal" href="../initialization/pre-commit.html">Pre-commit</a></li>
<li class="toctree-l2"><a class="reference internal" href="../setup/fire.html">Command Line Interface: fire</a></li>
<li class="toctree-l2"><a class="reference internal" href="../setup/loguru.html">Logging: loguru</a></li>
<li class="toctree-l2"><a class="reference internal" href="../setup/dynaconf.html">Configuration Management: dynaconf</a></li>
<li class="toctree-l2"><a class="reference internal" href="../setup/pytest.html">Testing: pytest</a></li>
<li class="toctree-l2"><a class="reference internal" href="../setup/coverage.html">Testing: coverage</a></li>
<li class="toctree-l2"><a class="reference internal" href="../setup/pytest-cov.html">Testing: pytest-cov</a></li>
<li class="toctree-l2"><a class="reference internal" href="../setup/tox.html">Testing: tox</a></li>
<li class="toctree-l2"><a class="reference internal" href="sphinx.html">Documentation: Sphinx</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Continuous Integration: GitHub Actions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#testing">Testing</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sample-configurations">Sample Configurations</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#add-a-badge">Add a badge</a></li>
<li class="toctree-l3"><a class="reference internal" href="#next-step">Next Step</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="gh-pages.html">Continuous Integration: GitHub Actions</a></li>
<li class="toctree-l2"><a class="reference internal" href="pypi.html">Continuous Integration: GitHub Actions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../miscellaneous/gh-issue-templates.html">GitHub Issue Templates</a></li>
<li class="toctree-l2"><a class="reference internal" href="../miscellaneous/cookiecutter.html">Cookiecutter</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Modules</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../modules.html">python_lifecycle_training</a></li>
</ul>
<p class="caption"><span class="caption-text">Extra</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pypi_release_checklist.html">PyPI Release Checklist</a></li>
<li class="toctree-l1"><a class="reference internal" href="../authors.html">Credits</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">python-lifecycle-training</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../tutorial.html">Tutorial</a> &raquo;</li>
        
      <li>Continuous Integration: GitHub Actions</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/deployment/gh-actions.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="continuous-integration-github-actions">
<h1>Continuous Integration: GitHub Actions<a class="headerlink" href="#continuous-integration-github-actions" title="Permalink to this headline">¶</a></h1>
<p><strong>GitHub Actions</strong> can be used to automate, customize, and execute your software
development workflows right in your repository with GitHub Actions. You can discover,
create, and share actions to perform any job you’d like, including CI/CD, and combine
actions in a completely customized workflow.</p>
<p>For more information visit <a class="reference external" href="https://docs.github.com/en/free-pro-team&#64;latest/actions">https://docs.github.com/en/free-pro-team&#64;latest/actions</a></p>
<div class="section" id="testing">
<h2>Testing<a class="headerlink" href="#testing" title="Permalink to this headline">¶</a></h2>
<div class="section" id="sample-configurations">
<h3>Sample Configurations<a class="headerlink" href="#sample-configurations" title="Permalink to this headline">¶</a></h3>
<div class="highlight-YAML notranslate"><div class="highlight"><pre><span></span><span class="c1">#.github/workflows/python-package.yml</span>
<span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Branch Tests</span>

<span class="nt">on</span><span class="p">:</span>
  <span class="nt">push</span><span class="p">:</span>
    <span class="nt">branches-ignore</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">master</span>
  <span class="nt">pull_request</span><span class="p">:</span>
    <span class="nt">branches-ignore</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">master</span>

<span class="nt">jobs</span><span class="p">:</span>
  <span class="nt">test</span><span class="p">:</span>
    <span class="nt">runs-on</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">ubuntu-latest</span>

    <span class="nt">strategy</span><span class="p">:</span>
      <span class="nt">matrix</span><span class="p">:</span>
        <span class="nt">python-version</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="nv">3.7</span><span class="p p-Indicator">,</span> <span class="nv">3.8</span><span class="p p-Indicator">]</span>

    <span class="nt">steps</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="nt">uses</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">actions/checkout@v2</span>

      <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Set up Python ${{ matrix.python-version }}</span>
        <span class="nt">uses</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">actions/setup-python@v2</span>
        <span class="nt">with</span><span class="p">:</span>
          <span class="nt">python-version</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">${{ matrix.python-version }}</span>

      <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Get full python version</span>
        <span class="nt">id</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">full-python-version</span>
        <span class="nt">run</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">echo ::set-output name=version::$(python -c &quot;import sys; print(&#39;-&#39;.join(str(v) for v in sys.version_info[:3]))&quot;)</span>

      <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Install and set up Poetry</span>
        <span class="nt">run</span><span class="p">:</span> <span class="p p-Indicator">|</span>
          <span class="no">python -m pip install --upgrade pip</span>
          <span class="no">pip install --upgrade poetry --pre</span>
          <span class="no">poetry config virtualenvs.in-project true</span>

      <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Set up cache</span>
        <span class="nt">uses</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">actions/cache@v1</span>
        <span class="nt">with</span><span class="p">:</span>
          <span class="nt">path</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">.venv</span>
          <span class="nt">key</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">venv-${{ runner.os }}-${{ steps.full-python-version.outputs.version }}-${{ hashFiles(&#39;**/poetry.lock&#39;) }}</span>

      <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Install dependencies</span>
        <span class="nt">run</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">poetry install</span>

      <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Run pre-commit action</span>
        <span class="nt">uses</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">pre-commit/action@v2.0.0</span>

      <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Run Tox</span>
        <span class="nt">run</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">poetry run tox -e py</span>
</pre></div>
</div>
<div class="highlight-YAML notranslate"><div class="highlight"><pre><span></span><span class="c1">#.github/workflows/master-python-package.yml</span>
<span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Tests</span>

<span class="nt">on</span><span class="p">:</span>
  <span class="nt">push</span><span class="p">:</span>
    <span class="nt">branches</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">master</span>
  <span class="nt">pull_request</span><span class="p">:</span>
    <span class="nt">branches</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">master</span>

<span class="nt">jobs</span><span class="p">:</span>
  <span class="nt">test</span><span class="p">:</span>
    <span class="nt">runs-on</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">ubuntu-latest</span>

    <span class="nt">strategy</span><span class="p">:</span>
      <span class="nt">matrix</span><span class="p">:</span>
        <span class="nt">python-version</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="nv">3.7</span><span class="p p-Indicator">,</span> <span class="nv">3.8</span><span class="p p-Indicator">]</span>

    <span class="nt">steps</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="nt">uses</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">actions/checkout@v2</span>

      <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Set up Python ${{ matrix.python-version }}</span>
        <span class="nt">uses</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">actions/setup-python@v2</span>
        <span class="nt">with</span><span class="p">:</span>
          <span class="nt">python-version</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">${{ matrix.python-version }}</span>

      <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Get full python version</span>
        <span class="nt">id</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">full-python-version</span>
        <span class="nt">run</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">echo ::set-output name=version::$(python -c &quot;import sys; print(&#39;-&#39;.join(str(v) for v in sys.version_info[:3]))&quot;)</span>

      <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Install and set up Poetry</span>
        <span class="nt">run</span><span class="p">:</span> <span class="p p-Indicator">|</span>
          <span class="no">python -m pip install --upgrade pip</span>
          <span class="no">pip install --upgrade poetry --pre</span>
          <span class="no">poetry config virtualenvs.in-project true</span>

      <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Set up cache</span>
        <span class="nt">uses</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">actions/cache@v1</span>
        <span class="nt">with</span><span class="p">:</span>
          <span class="nt">path</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">.venv</span>
          <span class="nt">key</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">venv-${{ runner.os }}-${{ steps.full-python-version.outputs.version }}-${{ hashFiles(&#39;**/poetry.lock&#39;) }}</span>

      <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Install dependencies</span>
        <span class="nt">run</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">poetry install</span>

      <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Run pre-commit action</span>
        <span class="nt">env</span><span class="p">:</span>
          <span class="nt">SKIP</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">no-commit-to-branch</span>
        <span class="nt">uses</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">pre-commit/action@v2.0.0</span>

      <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Run Tox</span>
        <span class="nt">run</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">poetry run tox -e py</span>
</pre></div>
</div>
<p>Once you commit and push these files check the actions tab in your project repo in
GitHub to check whether your tests are running or not. Try creating a pull request from
dev branch to master and see what happens.</p>
<p>Here is a sample message to write for your pull request.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">## Features</span>
<span class="o">*</span> <span class="n">Simple</span> <span class="n">Calculator</span>
<span class="o">*</span> <span class="n">Complex</span> <span class="n">Calculator</span>
<span class="o">*</span> <span class="n">Broken</span> <span class="n">Calculator</span>

<span class="c1">## Changes</span>
<span class="o">*</span> <span class="p">[</span><span class="n">Pre</span><span class="o">-</span><span class="n">commit</span> <span class="n">Hooks</span><span class="p">](</span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">pre</span><span class="o">-</span><span class="n">commit</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="p">)</span>
<span class="o">*</span> <span class="n">CLI</span><span class="p">:</span> <span class="p">[</span><span class="n">Fire</span><span class="p">](</span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">google</span><span class="o">.</span><span class="n">github</span><span class="o">.</span><span class="n">io</span><span class="o">/</span><span class="n">python</span><span class="o">-</span><span class="n">fire</span><span class="o">/</span><span class="n">guide</span><span class="o">/</span><span class="p">)</span>
<span class="o">*</span> <span class="n">Logging</span><span class="p">:</span> <span class="p">[</span><span class="n">Loguru</span><span class="p">](</span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">loguru</span><span class="o">.</span><span class="n">readthedocs</span><span class="o">.</span><span class="n">io</span><span class="o">/</span><span class="n">en</span><span class="o">/</span><span class="n">stable</span><span class="o">/</span><span class="p">)</span>
<span class="o">*</span> <span class="n">Configuration</span> <span class="n">Management</span><span class="p">:</span> <span class="p">[</span><span class="n">Dynaconf</span><span class="p">](</span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">www</span><span class="o">.</span><span class="n">dynaconf</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="p">)</span>
<span class="o">*</span> <span class="n">Testing</span><span class="p">:</span> <span class="n">Pytest</span><span class="p">,</span> <span class="n">Coverage</span><span class="p">,</span> <span class="n">Tox</span>
<span class="o">*</span> <span class="n">Documentation</span><span class="p">:</span> <span class="n">Sphinx</span>
</pre></div>
</div>
<p>Did the tests start running as soon as you created a PR?</p>
</div>
</div>
<div class="section" id="add-a-badge">
<h2>Add a badge<a class="headerlink" href="#add-a-badge" title="Permalink to this headline">¶</a></h2>
<a class="reference external image-reference" href="https://github.com/sp-fm/python-lifecycle-training/actions?query=workflow%3ATests"><img alt="Tests" src="https://github.com/sp-fm/python-lifecycle-training/workflows/Tests/badge.svg" /></a>
<div class="highlight-RST notranslate"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="ow">image</span><span class="p">::</span> https://github.com/sp-fm/python-lifecycle-training/workflows/Tests/badge.svg
    <span class="nc">:target:</span> https://github.com/sp-fm/python-lifecycle-training/actions?query=workflow%3ATests
    <span class="nc">:alt:</span> Tests
</pre></div>
</div>
</div>
<div class="section" id="next-step">
<h2>Next Step<a class="headerlink" href="#next-step" title="Permalink to this headline">¶</a></h2>
<p>To move on to the next step commit or stash your changes then checkout to the branch
<code class="docutils literal notranslate"><span class="pre">deploy/ci/docs</span></code></p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> git stash
<span class="gp">$</span> git checkout deploy/ci/docs
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="gh-pages.html" class="btn btn-neutral float-right" title="Continuous Integration: GitHub Actions" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="sphinx.html" class="btn btn-neutral float-left" title="Documentation: Sphinx" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Shashanka Prajapati

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>
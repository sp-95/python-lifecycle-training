

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Testing: coverage &mdash; python-lifecycle-training 0.1.1 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Testing: pytest-cov" href="pytest-cov.html" />
    <link rel="prev" title="Testing: pytest" href="pytest.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> python-lifecycle-training
          

          
          </a>

          
            
            
              <div class="version">
                0.1.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../readme.html">Python Lifecycle Training</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../tutorial.html">Tutorial</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../initialization/editorconfig.html">EditorConfig</a></li>
<li class="toctree-l2"><a class="reference internal" href="../initialization/flake8.html">Flake8</a></li>
<li class="toctree-l2"><a class="reference internal" href="../initialization/black.html">Black</a></li>
<li class="toctree-l2"><a class="reference internal" href="../initialization/isort.html">isort</a></li>
<li class="toctree-l2"><a class="reference internal" href="../initialization/mypy.html">MyPy</a></li>
<li class="toctree-l2"><a class="reference internal" href="../initialization/pre-commit.html">Pre-commit</a></li>
<li class="toctree-l2"><a class="reference internal" href="fire.html">Command Line Interface: fire</a></li>
<li class="toctree-l2"><a class="reference internal" href="loguru.html">Logging: loguru</a></li>
<li class="toctree-l2"><a class="reference internal" href="dynaconf.html">Configuration Management: dynaconf</a></li>
<li class="toctree-l2"><a class="reference internal" href="pytest.html">Testing: pytest</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Testing: coverage</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#installation">Installation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#configuration">Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="#usage">Usage</a></li>
<li class="toctree-l3"><a class="reference internal" href="#next-step">Next Step</a></li>
<li class="toctree-l3"><a class="reference internal" href="#uninstall">Uninstall</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="pytest-cov.html">Testing: pytest-cov</a></li>
<li class="toctree-l2"><a class="reference internal" href="tox.html">Testing: tox</a></li>
<li class="toctree-l2"><a class="reference internal" href="../deployment/sphinx.html">Documentation: Sphinx</a></li>
<li class="toctree-l2"><a class="reference internal" href="../deployment/gh-actions.html">Continuous Integration: GitHub Actions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../deployment/gh-pages.html">Continuous Integration: GitHub Actions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../deployment/pypi.html">Continuous Integration: GitHub Actions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../miscellaneous/gh-issue-templates.html">GitHub Issue Templates</a></li>
<li class="toctree-l2"><a class="reference internal" href="../miscellaneous/cookiecutter.html">Cookiecutter</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Modules</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../modules.html">python_lifecycle_training</a></li>
</ul>
<p class="caption"><span class="caption-text">Extra</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pypi_release_checklist.html">PyPI Release Checklist</a></li>
<li class="toctree-l1"><a class="reference internal" href="../authors.html">Credits</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">python-lifecycle-training</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../tutorial.html">Tutorial</a> &raquo;</li>
        
      <li>Testing: coverage</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/setup/coverage.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="testing-coverage">
<h1>Testing: coverage<a class="headerlink" href="#testing-coverage" title="Permalink to this headline">¶</a></h1>
<p><strong>Coverage.py</strong> is a tool for measuring code coverage of Python programs. It monitors
your program, noting which parts of the code have been executed, then analyzes the
source to identify code that could have been executed but was not.</p>
<p><strong>Coverage</strong> measurement is typically used to gauge the effectiveness of tests. It can
show which parts of your code are being exercised by tests, and which are not.</p>
<p>For more information visit <a class="reference external" href="https://coverage.readthedocs.io/en/coverage-5.3/">https://coverage.readthedocs.io/en/coverage-5.3/</a></p>
<div class="section" id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> poetry add coverage --dev
</pre></div>
</div>
</div>
<div class="section" id="configuration">
<h2>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h2>
<p>Add coverage configurations in <code class="docutils literal notranslate"><span class="pre">pyproject.toml</span></code></p>
<div class="highlight-cfg notranslate"><div class="highlight"><pre><span></span><span class="k">[tool.coverage.run]</span>
<span class="na">branch</span> <span class="o">=</span> <span class="s">true</span>
<span class="na">source</span> <span class="o">=</span> <span class="s">[</span>
<span class="s">    &quot;python_lifecycle_training&quot;,</span>
<span class="na">]</span>

<span class="k">[tool.coverage.report]</span>
<span class="c1"># Regexes for lines to exclude from consideration</span>
<span class="na">exclude_lines</span> <span class="o">=</span> <span class="s">[</span>
<span class="s">    # Have to re-enable the standard pragma</span>
<span class="s">    &quot;pragma: no cover&quot;,</span>

    <span class="c1"># Don&#39;t complain about missing debug-only code:</span>
    <span class="na">&quot;def __repr__&quot;,</span>
    <span class="na">&quot;if self.debug&quot;,</span>

    <span class="c1"># Don&#39;t complain if tests don&#39;t hit defensive assertion code:</span>
    <span class="na">&quot;raise AssertionError&quot;,</span>
    <span class="na">&quot;raise NotImplementedError&quot;,</span>

    <span class="c1"># Don&#39;t complain if non-runnable code isn&#39;t run:</span>
    <span class="na">&quot;if 0:&quot;,</span>
    <span class="na">&quot;if __name__</span> <span class="o">=</span><span class="s">= .__main__.:&quot;,</span>

    <span class="c1"># Don&#39;t complain about fire commands</span>
    <span class="na">&quot;fire.Fire&quot;,</span>
<span class="na">]</span>
<span class="na">fail_under</span> <span class="o">=</span> <span class="s">90</span>
<span class="na">ignore_errors</span> <span class="o">=</span> <span class="s">true</span>
</pre></div>
</div>
</div>
<div class="section" id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<p>Use <code class="docutils literal notranslate"><span class="pre">coverage</span> <span class="pre">run</span></code> to run your test suite and gather data. However you normally run
your test suite, you can run your test runner under coverage. If your test runner
command starts with “python”, just replace the initial “python” with “coverage run”.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> coverage run -m pytest
</pre></div>
</div>
<img alt="Coverage run pytest" src="../_images/run1.png" />
<p>Use <code class="docutils literal notranslate"><span class="pre">coverage</span> <span class="pre">report</span></code> to report on the results:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> coverage report -m
</pre></div>
</div>
<img alt="Coverage report" src="../_images/report.png" />
<p>For a nicer presentation, use <code class="docutils literal notranslate"><span class="pre">coverage</span> <span class="pre">html</span></code> to get annotated HTML listings detailing
missed lines:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> coverage html
<span class="gp">$</span> chromium htmlcov/index.html
</pre></div>
</div>
<img alt="Coverage HTML report" src="../_images/html.png" />
</div>
<div class="section" id="next-step">
<h2>Next Step<a class="headerlink" href="#next-step" title="Permalink to this headline">¶</a></h2>
<p>To move on to the next step commit or stash your changes then checkout to the branch
<code class="docutils literal notranslate"><span class="pre">setup/test/pytest-cov</span></code></p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> git stash
<span class="gp">$</span> git checkout setup/test/pytest-cov
</pre></div>
</div>
</div>
<div class="section" id="uninstall">
<h2>Uninstall<a class="headerlink" href="#uninstall" title="Permalink to this headline">¶</a></h2>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> poetry remove coverage --dev
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="pytest-cov.html" class="btn btn-neutral float-right" title="Testing: pytest-cov" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="pytest.html" class="btn btn-neutral float-left" title="Testing: pytest" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Shashanka Prajapati

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>